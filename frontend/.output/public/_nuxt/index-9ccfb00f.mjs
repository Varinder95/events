import{_ as b,r as D,o as d,c as l,a as u,b as e,t as i,d as p,F as E,q as N,w,g as S,h as r,v as h,k as m,i as B,n as y,p as L,l as F,e as M,j as k}from"./entry-5a75029a.mjs";import{F as q,a as g}from"./FooterOne-c0d6d65d.mjs";import{P as O}from"./Pagination-7f60066f.mjs";import{H as I}from"./HeaderFour-2a46882e.mjs";const j={name:"UserProfileMain",components:{FooterOne:q,Pagination:O,HeaderFour:I},data(){return{UserData:{id:"",FName:"",LName:"",Email:"",password:"",DOB:"",Gender:"",PrefferedSport:"",prefferedLocation:"",Biography:""},updateData:{FName:"",LName:"",DOB:"",Gender:"",PrefferedSport:"",prefferedLocation:"",Biography:""},loggedIn:!1,eventData:"",dataLoaded:!1,loaded:!1,eventDataReceived:!1,showEditDetails:!1,showEditPass:!1}},mounted(){localStorage.loggedIn&&(this.UserData=JSON.parse(localStorage.UserData),this.loggedIn=localStorage.loggedIn),this.getUserDetails(),this.getEventData()},methods:{async getUserDetails(){console.log(this.UserData),await g.get("http://143.42.142.151:4000/users/current",{params:{Id:this.UserData.id}}).then(t=>{console.log(t.data),this.UserData=t.data}).catch(t=>{t.response?(console.log(t.response.data),console.log(t.response.status),console.log(t.response.headers)):t.request?console.log(t.request):console.log("Error",t.message)}),this.loaded=!0},async getEventData(){await g.get("http://143.42.142.151:4000/events/getAllByUser",{params:{userId:this.UserData.id}}).then(t=>{console.log(t),this.eventData=t.data}).catch(t=>{t.response?(console.log(t.response.data),console.log(t.response.status),console.log(t.response.headers)):t.request?console.log(t.request):console.log("Error",t.message)}),this.eventData.length!==0&&(this.eventDataReceived=!0),this.dataLoaded=!0},handleEditDetails(){return this.updateData.FName=this.UserData.FName,this.updateData.LName=this.UserData.LName,this.updateData.Gender=this.UserData.Gender,this.updateData.DOB=this.UserData.DOB,this.updateData.PrefferedSport=this.UserData.PrefferedSport,this.updateData.prefferedLocation=this.UserData.prefferedLocation,this.updateData.Biography=this.UserData.Biography,this.showEditDetails=!this.showEditDetails},handleEditPass(){return this.showEditPass=!this.showEditPass},async userUpdate(){await g.post("http://143.42.142.151:4000/users/updateUser",{params:{Id:this.UserData.id,query:this.updateData}}).then(t=>{console.log(t),this.$router.go()}).catch(t=>{t.response?(this.detailsError=!0,this.errorMessage=t.response.data.message,console.log(t.response.data),console.log(t.response.status),console.log(t.response.headers)):t.request?(console.log(t.request),this.detailsError=!0,this.errorMessage=t.request):(console.log("Error",t.message),this.detailsError=!0,this.errorMessage=t.message)})},getDateFormat(t){var o=new Date(t),v=`${("0"+o.getDate()).slice(-2)}/${("0"+(o.getMonth()+1)).slice(-2)}/${o.getFullYear()}`;return v}}},n=t=>(L("data-v-7d4c16cc"),t=t(),F(),t),C={key:0},H={class:"course-detalies-area pt-120 pb-100"},A={class:"container"},V={class:"row"},G={class:"col-xl-12 col-lg-12"},T={class:"course-detelies-wrapper"},K={class:"course-details-action w-100 mb-30"},J={class:"w-100"},R={class:"text-capitalize"},z={class:"mt-10"},Y=n(()=>e("span",{class:"font-weight-bold"},"Preffered Sports :",-1)),W={class:"mt-10"},Q=n(()=>e("span",{class:"font-weight-bold"},"Preffered Loction :",-1)),X={class:"course-details-action"},Z={class:"course-follow"},$={class:"course-detiles-meta"},ee={class:"total-course"},te=n(()=>e("span",null,"Total Events Hosted",-1)),ae={class:"mt-10"},se=n(()=>e("div",{class:"course-details-action"},[e("div",{class:"course-follow"},[e("a",{href:"/add-event",class:"edu-follow-btn"},"Host Event")])],-1)),oe={class:"course-bio-text pt-45 pb-20"},ne=n(()=>e("h3",null,"Biography",-1)),ie={key:0},de={key:1},le=n(()=>e("div",{class:"my-coeventAddedurse-info w-100 border-bottom border-secondary"},[e("h3",null,"My Events")],-1)),ce={class:"row pb-30"},re={key:0},pe={key:0},ue={class:"single-item mb-30"},he={class:"col-lg-6 f-left"},ve={class:"event_date_inner"},_e={class:"font-weight-bold"},me=p("Event Start date : "),ge={class:"font-weight-normal"},fe={class:"font-weight-bold"},De=p("Event End date : "),we={class:"font-weight-normal"},ye={class:"event_info"},be={class:"event-detalis d-flex align-items-center"},ke={class:"event-time mr-30 d-flex align-items-center"},xe=n(()=>e("p",{class:"font-weight-bold mt-15"},"Entry fees : ",-1)),Ue={class:"event-time mr-30 d-flex align-items-center"},Pe=n(()=>e("i",{class:"flaticon-clock-1"},null,-1)),Ee={class:"event-location d-flex align-items-centere"},Ne=n(()=>e("i",{class:"flaticon-pin"},null,-1)),Se={class:"event-aduence d-flex align-items-center"},Be=n(()=>e("div",{class:"aduence-thumb"},[e("p",{class:"font-weight-bold mt-15"},"Organiser : ")],-1)),Le={class:"adence-info"},Fe={class:"get-ticket-btn w-100"},Me={class:"m-4 w-full"},qe={key:0,class:"alert alert-success",role:"alert"},Oe={key:1,class:"alert alert-warning",role:"alert"},Ie={class:"d-flex row justify-content-between"},je={class:"d-inline-flex col-md-6 mt-10 justify-content-start"},Ce={class:"w-full"},He=p("Approval Status : "),Ae={key:0,class:"text-success font-weight-normal"},Ve={key:1,class:"text-warning font-weight-normal"},Ge={class:"d-inline-flex col-md-6 justify-content-end"},Te={class:"d-none d-md-block","data-v-3ba90ccc":""},Ke=p("View Details"),Je={key:1},Re=n(()=>e("div",{class:"col-xl-6 col-lg-6 col-md-6 mt-20"},[e("div",{class:"academic-box mb-30"},[e("h4",{class:"font-weight-bold"},"You don't have any events")])],-1)),ze=[Re],Ye={key:1,class:"d-flex justify-content-center mt-20 mb-20"},We=n(()=>e("div",{class:"spinner-grow text-warning",role:"status"},[e("span",{class:"sr-only"},"Loading...")],-1)),Qe=[We],Xe={class:"sign-up-wrapper"},Ze=n(()=>e("label",null,"Name",-1)),$e={class:"signup-input-wrapper"},et={class:"signup-wrapper"},tt=n(()=>e("label",null,"Date of birth",-1)),at=n(()=>e("label",{for:"DOB"},"Date of Birth",-1)),st={class:"signup-wrapper"},ot=n(()=>e("label",null,"Gender",-1)),nt=n(()=>e("option",{value:"",disabled:"",selected:""},"Gender *",-1)),it=n(()=>e("option",{value:"Male"},"Male",-1)),dt=n(()=>e("option",{value:"Female"},"Female",-1)),lt=[nt,it,dt],ct={class:"signup-wrapper"},rt=n(()=>e("label",null,"Preffered Sport",-1)),pt=k('<option value="" disabled selected data-v-7d4c16cc>Preffered Sports *</option><option value="Cricket" data-v-7d4c16cc>Cricket</option><option value="Football" data-v-7d4c16cc>Football</option><option value="Basketball" data-v-7d4c16cc>Basketball</option><option value="Hockey" data-v-7d4c16cc>Hockey</option><option value="Badminton" data-v-7d4c16cc>Badminton</option><option value="Other" data-v-7d4c16cc>Other</option>',7),ut=[pt],ht={class:"signup-wrapper"},vt=n(()=>e("label",null,"State",-1)),_t=k('<option value="" disabled selected data-v-7d4c16cc>Preffered State *</option><option value="Andhra Pradesh" data-v-7d4c16cc>Andhra Pradesh</option><option value="Andaman and Nicobar Islands" data-v-7d4c16cc>Andaman and Nicobar Islands</option><option value="Arunachal Pradesh" data-v-7d4c16cc>Arunachal Pradesh</option><option value="Assam" data-v-7d4c16cc>Assam</option><option value="Bihar" data-v-7d4c16cc>Bihar</option><option value="Chandigarh" data-v-7d4c16cc>Chandigarh</option><option value="Chhattisgarh" data-v-7d4c16cc>Chhattisgarh</option><option value="Dadar and Nagar Haveli" data-v-7d4c16cc>Dadar and Nagar Haveli</option><option value="Daman and Diu" data-v-7d4c16cc>Daman and Diu</option><option value="Delhi" data-v-7d4c16cc>Delhi</option><option value="Lakshadweep" data-v-7d4c16cc>Lakshadweep</option><option value="Puducherry" data-v-7d4c16cc>Puducherry</option><option value="Goa" data-v-7d4c16cc>Goa</option><option value="Gujarat" data-v-7d4c16cc>Gujarat</option><option value="Haryana" data-v-7d4c16cc>Haryana</option><option value="Himachal Pradesh" data-v-7d4c16cc>Himachal Pradesh</option><option value="Jammu and Kashmir" data-v-7d4c16cc>Jammu and Kashmir</option><option value="Jharkhand" data-v-7d4c16cc>Jharkhand</option><option value="Karnataka" data-v-7d4c16cc>Karnataka</option><option value="Kerala" data-v-7d4c16cc>Kerala</option><option value="Madhya Pradesh" data-v-7d4c16cc>Madhya Pradesh</option><option value="Maharashtra" data-v-7d4c16cc>Maharashtra</option><option value="Manipur" data-v-7d4c16cc>Manipur</option><option value="Meghalaya" data-v-7d4c16cc>Meghalaya</option><option value="Mizoram" data-v-7d4c16cc>Mizoram</option><option value="Nagaland" data-v-7d4c16cc>Nagaland</option><option value="Odisha" data-v-7d4c16cc>Odisha</option><option value="Punjab" data-v-7d4c16cc>Punjab</option><option value="Rajasthan" data-v-7d4c16cc>Rajasthan</option><option value="Sikkim" data-v-7d4c16cc>Sikkim</option><option value="Tamil Nadu" data-v-7d4c16cc>Tamil Nadu</option><option value="Telangana" data-v-7d4c16cc>Telangana</option><option value="Tripura" data-v-7d4c16cc>Tripura</option><option value="Uttar Pradesh" data-v-7d4c16cc>Uttar Pradesh</option><option value="Uttarakhand" data-v-7d4c16cc>Uttarakhand</option><option value="West Bengal" data-v-7d4c16cc>West Bengal</option>',37),mt=[_t],gt={class:"signup-wrapper mb-20"},ft=n(()=>e("label",null,"Biography",-1)),Dt={key:0,class:"my-20 text-center"},wt={class:"text-md text-danger"},yt=n(()=>e("div",{class:"sing-buttom mb-20"},[e("button",{class:"sing-btn w-100"},"Save Details")],-1)),bt={key:1,class:"d-flex min-vh-100 min-vw-100 justify-content-center"},kt=n(()=>e("div",{class:"d-flex justify-content-center align-items-center"},[e("div",{class:"spinner-grow text-warning",role:"status"},[e("span",{class:"sr-only"},"Loading...")])],-1)),xt=[kt];function Ut(t,o,v,U,s,c){const _=D("HeaderFour"),f=M,P=D("FooterOne");return s.loaded?(d(),l("div",C,[u(_),e("div",H,[e("div",A,[e("div",V,[e("div",G,[e("div",T,[e("div",K,[e("div",J,[e("h3",R,i(s.UserData.FName)+" "+i(s.UserData.LName),1),e("p",z,[Y,p(" "+i(s.UserData.PrefferedSport),1)]),e("p",W,[Q,p(" "+i(s.UserData.prefferedLocation),1)])]),e("div",X,[e("div",Z,[e("a",{onClick:o[0]||(o[0]=(...a)=>c.handleEditDetails&&c.handleEditDetails(...a)),class:"d-block link-text w-100 mt-10"},"Edit profile"),e("a",{onClick:o[1]||(o[1]=(...a)=>c.handleEditPass&&c.handleEditPass(...a)),class:"d-block link-text w-100 mt-10"},"Change password")])])]),e("div",$,[e("div",ee,[te,e("label",ae,i(s.eventData.length),1)]),se]),e("div",oe,[ne,s.UserData.Biography===""?(d(),l("p",ie,"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.")):(d(),l("p",de,i(s.UserData.Biography),1))]),le,e("div",ce,[s.dataLoaded?(d(),l("div",re,[s.eventDataReceived?(d(),l("div",pe,[(d(!0),l(E,null,N(s.eventData,a=>(d(),l("div",{class:"col-lg-12 mt-10",key:a.id},[e("div",ue,[e("div",he,[e("div",ve,[e("h4",null,[u(f,{to:`/course-details/${a.id}`},{default:w(()=>[p(i(a.Name),1)]),_:2},1032,["to"])]),e("p",_e,[me,e("span",ge,i(c.getDateFormat(a.startDate)),1)]),e("p",fe,[De,e("span",we,i(c.getDateFormat(a.endDate)),1)])])]),e("div",ye,[e("h3",null,i(a.Sport),1),e("div",be,[e("div",ke,[xe,e("span",null,i(a.entryFee),1)]),e("div",Ue,[Pe,e("span",null,i(a.Time),1)]),e("div",Ee,[Ne,e("span",null,i(a.Location),1)])]),e("div",Se,[Be,e("div",Le,[e("span",null,i(a.Organiser1Name),1)])])]),e("div",Fe,[e("div",Me,[a.approvalStatus==="Approved"?(d(),l("div",qe," Your event submission is approved. ")):(d(),l("div",Oe," Your event submission is currently under review. We will notify you of any change in status through email. "))]),e("div",Ie,[e("div",je,[e("h3",Ce,[He,a.approvalStatus==="Approved"?(d(),l("span",Ae,i(a.approvalStatus),1)):(d(),l("span",Ve,i(a.approvalStatus),1))])]),e("div",Ge,[e("div",Te,[u(f,{class:"user-btn-sign-up edu-btn",to:`/event-details/${a.id}`,"data-v-3ba90ccc":""},{default:w(()=>[Ke]),_:2},1032,["to"])])])])])])]))),128))])):(d(),l("div",Je,ze))])):(d(),l("div",Ye,Qe))])])])])])]),u(P),e("div",{class:y(`${s.showEditDetails?"signup-area open position-absolute":"signup-area"}`)},[e("div",Xe,[e("form",{class:"signup-form-wrapper w-100",onSubmit:o[9]||(o[9]=S((...a)=>c.userUpdate&&c.userUpdate(...a),["prevent"]))},[Ze,e("div",$e,[r(e("input",{required:"","onUpdate:modelValue":o[2]||(o[2]=a=>s.updateData.FName=a),type:"text",placeholder:"First Name"},null,512),[[h,s.updateData.FName]]),r(e("input",{required:"","onUpdate:modelValue":o[3]||(o[3]=a=>s.updateData.LName=a),type:"text",placeholder:"Last Name"},null,512),[[h,s.updateData.LName]])]),e("div",et,[tt,at,r(e("input",{required:"","onUpdate:modelValue":o[4]||(o[4]=a=>s.updateData.DOB=a),type:"Date",name:"DOB"},null,512),[[h,s.updateData.DOB]])]),e("div",st,[ot,r(e("select",{"onUpdate:modelValue":o[5]||(o[5]=a=>s.updateData.Gender=a),class:"form-select",required:""},lt,512),[[m,s.updateData.Gender]])]),e("div",ct,[rt,r(e("select",{"onUpdate:modelValue":o[6]||(o[6]=a=>s.updateData.PrefferedSport=a),class:"form-select",required:""},ut,512),[[m,s.updateData.PrefferedSport]])]),e("div",ht,[vt,r(e("select",{"onUpdate:modelValue":o[7]||(o[7]=a=>s.updateData.prefferedLocation=a),class:"form-select",required:""},mt,512),[[m,s.updateData.prefferedLocation]])]),e("div",gt,[ft,r(e("textarea",{"onUpdate:modelValue":o[8]||(o[8]=a=>s.updateData.Biography=a),class:"form-textarea",rows:"3",placeholder:"Biography"},null,512),[[h,s.updateData.Biography]])]),t.detailsError?(d(),l("div",Dt,[e("p",wt,i(t.errorMessage),1)])):B("",!0),yt],32)])],2),e("div",{class:y(`${s.showEditDetails?"offcanvas-overlay overlay-open":"offcanvas-overlay"}`),onClick:o[10]||(o[10]=(...a)=>c.handleEditDetails&&c.handleEditDetails(...a))},null,2)])):(d(),l("div",bt,xt))}var x=b(j,[["render",Ut],["__scopeId","data-v-7d4c16cc"]]);const Pt={name:"UserProfile",components:{UserProfileMain:x},data(){return{loaded:!1}},mounted(){localStorage.getItem("loggedIn")?this.loaded=!0:this.$router.replace("/")}},Et={key:0},Nt={key:1,class:"d-flex min-vh-100 min-vw-100 justify-content-center"},St=e("div",{class:"d-flex justify-content-center align-items-center"},[e("div",{class:"spinner-grow text-warning",role:"status"},[e("span",{class:"sr-only"},"Loading...")])],-1),Bt=[St];function Lt(t,o,v,U,s,c){const _=x;return s.loaded?(d(),l("div",Et,[u(_)])):(d(),l("div",Nt,Bt))}var It=b(Pt,[["render",Lt]]);export{It as default};
