import{_ as D,r as v,o as r,c as d,a as p,b as e,g as N,h as i,v as l,k as m,t as O,i as _,w as x,j as h,p as S,l as F,d as f,e as z,f as B}from"./entry-5a75029a.mjs";import{F as I,a as E}from"./FooterOne-c0d6d65d.mjs";import{P as V}from"./PageTitle-fd4a499a.mjs";import{H as k}from"./HeaderFour-2a46882e.mjs";const U={name:"EditEvent",props:{eventId:{type:String,default:""}},components:{FooterOne:I,PageTitle:V,HeaderFour:k},data(){return{EventData:{Name:"",Sport:"",Category:"",startDate:"",endDate:"",Description:"",createdById:"",createdByFName:"",createdByLName:"",Address:"",Landmark:"",Prize1:null,Prize2:null,Prize3:null,consolationPrize:null,Time:"",Location:"",Rules:"",entryFee:"",Organiser1Name:"",Organiser1Phone:"",Organiser2Name:"",Organiser2Phone:"",createdById:"",createdByFName:"",createdByLName:"",approvalStatus:"Pending",Featured:"No"},EventError:!1,EventSuccess:!1,errorMessage:"",addEventId:"",isAdmin:"",loaded:!1}},methods:{async getEventDetails(){await E.get("http://143.42.142.151:4000/events/getEventById",{params:{Id:this.eventId}}).then(t=>{console.log(t),this.EventData.Name=t.data.Name,this.EventData.Sport=t.data.Sport,this.EventData.Category=t.data.Category,this.EventData.startDate=t.data.startDate,this.EventData.endDate=t.data.endDate,this.EventData.Description=t.data.Description,this.EventData.createdById=t.data.createdById,this.EventData.createdByFName=t.data.createdByFName,this.EventData.createdByLName=t.data.createdByLName,this.EventData.Address=t.data.Address,this.EventData.Landmark=t.data.Landmark,this.EventData.Prize1=t.data.Prize1,this.EventData.Prize2=t.data.Prize2,this.EventData.Prize3=t.data.Prize3,this.EventData.consolationPrize=t.data.consolationPrize,this.EventData.Time=t.data.Time,this.EventData.Location=t.data.Location,this.EventData.Rules=t.data.Rules,this.EventData.entryFee=t.data.entryFee,this.EventData.Organiser1Name=t.data.Organiser1Name,this.EventData.Organiser1Phone=t.data.Organiser1Phone,this.EventData.Organiser2Name=t.data.Organiser2Name,this.EventData.Organiser2Phone=t.data.Organiser2Phone,this.EventData.createdById=t.data.createdById,this.EventData.createdByFName=t.data.createdByFName,this.EventData.createdByLName=t.data.createdByLName,this.loaded=!0,JSON.parse(localStorage.UserData).id!==this.EventData.createdById&&this.isAdmin===!1&&this.$router.replace("/dashboard")}).catch(t=>{t.response?(this.errorMessage=t.response.data.message,console.log(t.response.data),console.log(t.response.status),console.log(t.response.headers)):t.request?console.log(t.request):console.log("Error",t.message)}),this.loaded=!0},async editEvent(){await E.post("http://143.42.142.151:4000/events/updateEvent",{params:{Id:this.eventId,query:this.EventData}}).then(t=>{console.log(t),this.EventSuccess=!0}).catch(t=>{t.response?(this.EventError=!0,this.errorMessage=t.response.data.message,console.log(t.response.data),console.log(t.response.status),console.log(t.response.headers)):t.request?(console.log(t.request),this.EventError=!0,this.errorMessage=t.request):(console.log("Error",t.message),this.EventError=!0,this.errorMessage=t.message)})}},beforeMount(){localStorage.loggedIn&&(this.loggedIn=localStorage.loggedIn,JSON.parse(localStorage.UserData).Status==="Admin"&&(this.isAdmin=!0)),this.getEventDetails()}},o=t=>(S("data-v-18af0550"),t=t(),F(),t),L={key:0},q={class:"container"},T={class:"sign-up-wrapper"},C=h('<div class="signup-box text-center" data-v-18af0550><div class="signup-text" data-v-18af0550><h3 data-v-18af0550>Edit Event</h3></div><div class="signup-message" data-v-18af0550><img src="/img/sing-up/sign-up-message.png" alt="image not found" data-v-18af0550></div><div class="signup-thumb" data-v-18af0550><img src="/img/sing-up/sign-up.png" alt="image not found" data-v-18af0550></div></div>',1),M=o(()=>e("div",{class:"mt-10 mb-20"},[e("h3",null,"Event details")],-1)),A={class:"signup-wrapper"},R=o(()=>e("label",null,"Event Name*",-1)),H={class:"signup-wrapper"},j=o(()=>e("label",null,"Sport*",-1)),G=h('<option value="" disabled selected data-v-18af0550>Select Sport *</option><option value="Cricket" data-v-18af0550>Cricket</option><option value="Football" data-v-18af0550>Football</option><option value="Basketball" data-v-18af0550>Basketball</option><option value="Hockey" data-v-18af0550>Hockey</option><option value="Badminton" data-v-18af0550>Badminton</option><option value="Other" data-v-18af0550>Other</option>',7),J=[G],W={class:"signup-wrapper"},Y=o(()=>e("label",null,"Category*",-1)),K=o(()=>e("option",{value:"",disabled:"",selected:""},"Category *",-1)),Q=o(()=>e("option",{value:"Indoor"},"Indoor",-1)),X=o(()=>e("option",{value:"Outdoor"},"Outdoor",-1)),Z=o(()=>e("option",{value:"Other"},"Other",-1)),$=[K,Q,X,Z],ee={class:"signup-wrapper"},te=o(()=>e("label",{for:"fromDate"},"From *",-1)),ae={class:"signup-wrapper"},se=o(()=>e("label",{for:"toDate"},"To *",-1)),ne={class:"signup-wrapper"},oe=o(()=>e("label",{for:"time"},"Time of Event *",-1)),ie={class:"signup-wrapper mb-20"},le=o(()=>e("label",null,"Event Description*",-1)),re={class:"signup-wrapper mb-20"},de=o(()=>e("label",null,"First Prize*",-1)),pe={class:"signup-wrapper mb-20"},ve=o(()=>e("label",null,"Second Prize*",-1)),ue={class:"signup-wrapper mb-20"},ce=o(()=>e("label",null,"Third Prize*",-1)),me={class:"signup-wrapper mb-20"},he=o(()=>e("label",null,"Consolation Prize*",-1)),ge={class:"signup-wrapper mb-20"},_e=o(()=>e("label",null,"Event Address*",-1)),Ee={class:"signup-wrapper mb-20"},De=o(()=>e("label",null,"Nearest Landmark*",-1)),fe={class:"signup-wrapper"},ye=o(()=>e("label",null,"State*",-1)),be=h('<option value="" disabled selected data-v-18af0550>Select State *</option><option value="Delhi" data-v-18af0550>Delhi</option><option value="Haryana" data-v-18af0550>Haryana</option><option value="UP" data-v-18af0550>UP</option><option value="Gujarat" data-v-18af0550>Gujarat</option><option value="Rajasthan" data-v-18af0550>Rajasthan</option><option value="Maharashtra" data-v-18af0550>Maharashtra</option>',7),Pe=[be],we={class:"signup-wrapper mb-20"},Ne=o(()=>e("label",null,"Event Rules*",-1)),Oe={class:"signup-wrapper"},xe=o(()=>e("label",null,"Event Entry Fees*",-1)),Se=o(()=>e("div",{class:"mt-10 mb-10"},[e("h3",null,"Organiser details")],-1)),Fe={class:"signup-wrapper"},ze=o(()=>e("label",null,"First Event Organiser*",-1)),Be={class:"signup-wrapper"},Ie=o(()=>e("label",null,"First Organiser Phone*",-1)),Ve={class:"signup-wrapper"},ke=o(()=>e("label",null,"Second Event Organiser*",-1)),Ue={class:"signup-wrapper"},Le=o(()=>e("label",null,"Second Organiser Phone*",-1)),qe={key:0,class:"my-20 text-center"},Te={class:"text-md text-danger"},Ce={key:1,class:"m-4 w-full"},Me={class:"alert alert-success",role:"alert"},Ae=f(" Your event is editted succesfully. We will notify you of any change in status through email."),Re=o(()=>e("br",null,null,-1)),He={class:"mt-4 d-block"},je=f("View Details"),Ge=o(()=>e("div",{class:"sing-buttom mb-20"},[e("button",{type:"submit",class:"sing-btn w-100"},"Save Event")],-1)),Je={key:1,class:"d-flex min-vh-100 min-vw-100 justify-content-center"},We=o(()=>e("div",{class:"d-flex justify-content-center align-items-center"},[e("div",{class:"spinner-grow text-warning",role:"status"},[e("span",{class:"sr-only"},"Loading...")])],-1)),Ye=[We];function Ke(t,s,g,y,a,u){const c=v("HeaderFour"),b=v("PageTitle"),P=z,w=v("FooterOne");return a.loaded?(r(),d("div",L,[p(c),p(b,{pageTitle:"Edit Event",pageSubTitle:"Edit Event"}),e("div",q,[e("div",T,[C,e("form",{class:"signup-form-wrapper",onSubmit:s[20]||(s[20]=N((...n)=>u.editEvent&&u.editEvent(...n),["prevent"]))},[M,e("div",A,[R,i(e("input",{required:"","onUpdate:modelValue":s[0]||(s[0]=n=>a.EventData.Name=n),type:"text",class:"form-field",placeholder:"Event Name"},null,512),[[l,a.EventData.Name]])]),e("div",H,[j,i(e("select",{"onUpdate:modelValue":s[1]||(s[1]=n=>a.EventData.Sport=n),class:"form-field",required:""},J,512),[[m,a.EventData.Sport]])]),e("div",W,[Y,i(e("select",{"onUpdate:modelValue":s[2]||(s[2]=n=>a.EventData.Category=n),class:"form-field",required:""},$,512),[[m,a.EventData.Category]])]),e("div",ee,[te,i(e("input",{required:"","onUpdate:modelValue":s[3]||(s[3]=n=>a.EventData.startDate=n),type:"Date",name:"fromDate"},null,512),[[l,a.EventData.startDate]])]),e("div",ae,[se,i(e("input",{required:"","onUpdate:modelValue":s[4]||(s[4]=n=>a.EventData.endDate=n),type:"Date",name:"toDate"},null,512),[[l,a.EventData.endDate]])]),e("div",ne,[oe,i(e("input",{required:"","onUpdate:modelValue":s[5]||(s[5]=n=>a.EventData.Time=n),type:"time",class:"form-field",name:"time",placeholder:"Event Time"},null,512),[[l,a.EventData.Time]])]),e("div",ie,[le,i(e("textarea",{"onUpdate:modelValue":s[6]||(s[6]=n=>a.EventData.Description=n),class:"form-textarea",rows:"3",placeholder:"Event Description"},null,512),[[l,a.EventData.Description]])]),e("div",re,[de,i(e("textarea",{"onUpdate:modelValue":s[7]||(s[7]=n=>a.EventData.Prize1=n),class:"form-textarea",rows:"1",placeholder:"First Prize (optional)"},null,512),[[l,a.EventData.Prize1]])]),e("div",pe,[ve,i(e("textarea",{"onUpdate:modelValue":s[8]||(s[8]=n=>a.EventData.Prize2=n),class:"form-textarea",rows:"1",placeholder:"Second Prize (optional)"},null,512),[[l,a.EventData.Prize2]])]),e("div",ue,[ce,i(e("textarea",{"onUpdate:modelValue":s[9]||(s[9]=n=>a.EventData.Prize3=n),class:"form-textarea",rows:"1",placeholder:"Third Prize (optional)"},null,512),[[l,a.EventData.Prize3]])]),e("div",me,[he,i(e("textarea",{"onUpdate:modelValue":s[10]||(s[10]=n=>a.EventData.consolationPrize=n),class:"form-textarea",rows:"1",placeholder:"Consolation Prize (optional)"},null,512),[[l,a.EventData.consolationPrize]])]),e("div",ge,[_e,i(e("textarea",{"onUpdate:modelValue":s[11]||(s[11]=n=>a.EventData.Address=n),class:"form-textarea",rows:"2",placeholder:"Event Address"},null,512),[[l,a.EventData.Address]])]),e("div",Ee,[De,i(e("textarea",{"onUpdate:modelValue":s[12]||(s[12]=n=>a.EventData.Landmark=n),class:"form-textarea",rows:"1",placeholder:"Nearby Landmark"},null,512),[[l,a.EventData.Landmark]])]),e("div",fe,[ye,i(e("select",{"onUpdate:modelValue":s[13]||(s[13]=n=>a.EventData.Location=n),class:"form-field"},Pe,512),[[m,a.EventData.Location]])]),e("div",we,[Ne,i(e("textarea",{"onUpdate:modelValue":s[14]||(s[14]=n=>a.EventData.Rules=n),class:"form-textarea",rows:"3",placeholder:"Event Rules and Regulations"},null,512),[[l,a.EventData.Rules]])]),e("div",Oe,[xe,i(e("input",{required:"","onUpdate:modelValue":s[15]||(s[15]=n=>a.EventData.entryFee=n),type:"number",class:"form-field",placeholder:"Event Entry Fees"},null,512),[[l,a.EventData.entryFee]])]),Se,e("div",Fe,[ze,i(e("input",{required:"","onUpdate:modelValue":s[16]||(s[16]=n=>a.EventData.Organiser1Name=n),type:"text",class:"form-field",placeholder:"First Organiser Name"},null,512),[[l,a.EventData.Organiser1Name]])]),e("div",Be,[Ie,i(e("input",{required:"","onUpdate:modelValue":s[17]||(s[17]=n=>a.EventData.Organiser1Phone=n),type:"tel",pattern:"[6789][0-9]{9}",placeholder:"First Organiser Number"},null,512),[[l,a.EventData.Organiser1Phone]])]),e("div",Ve,[ke,i(e("input",{required:"","onUpdate:modelValue":s[18]||(s[18]=n=>a.EventData.Organiser2Name=n),type:"text",class:"form-field",placeholder:"Second Organiser Name"},null,512),[[l,a.EventData.Organiser2Name]])]),e("div",Ue,[Le,i(e("input",{required:"","onUpdate:modelValue":s[19]||(s[19]=n=>a.EventData.Organiser2Phone=n),type:"tel",pattern:"[6789][0-9]{9}",placeholder:"Second Organiser Number"},null,512),[[l,a.EventData.Organiser2Phone]])]),a.EventError?(r(),d("div",qe,[e("p",Te,O(a.errorMessage),1)])):_("",!0),a.EventSuccess?(r(),d("div",Ce,[e("div",Me,[Ae,Re,e("span",He,[p(P,{class:"text-primary link-hover",to:`/event-details/${g.eventId}`},{default:x(()=>[je]),_:1},8,["to"])])])])):_("",!0),Ge],32)])]),p(w)])):(r(),d("div",Je,Ye))}var Qe=D(U,[["render",Ke],["__scopeId","data-v-18af0550"]]);const Xe={name:"app",components:{EditEvent:Qe},data(){return{id:this.$route.params.id}}};function Ze(t,s,g,y,a,u){const c=v("EditEvent");return r(),B(c,{eventId:a.id},null,8,["eventId"])}var st=D(Xe,[["render",Ze]]);export{st as default};
