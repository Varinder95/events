import{_ as h,r as d,o as c,c as i,a as l,b as t,F as S,q as y,t as n,w as _,d as m,e as E}from"./entry-5a75029a.mjs";import{F as x,a as F}from"./FooterOne-c0d6d65d.mjs";import{P}from"./PageTitle-fd4a499a.mjs";import{H as k}from"./HeaderFour-2a46882e.mjs";import{P as N}from"./Pagination-7f60066f.mjs";const w={name:"PendingEvents",components:{FooterOne:x,PageTitle:P,HeaderFour:k,paginate:N},data(){return{getData:"",loaded:!1,Loading:!0,eventDataReceived:!1,pageCount:"",page:1,size:10,columns:[{title:"Event Name",field:"Name"},{field:"createdByFName",title:"Created By"},{field:"Sport",title:"Event Sport"},{field:"startDate",title:"Event Start Date"},{field:"endDate",title:"Event End Date"},{field:"approvalStatus",title:"Approval Status"}],options:{search:!0,showColumns:!0}}},mounted(){localStorage.loggedIn&&(this.loggedIn=localStorage.loggedIn),this.loaded=!0,this.getEventData()},methods:{clickCallback:function(){this.getEventData()},ChangeNoRows(){this.perPage=this.NoOfRows},async getEventData(){await F.get("http://143.42.142.151:4000/events/getAllPending",{params:{page:this.page,size:this.size}}).then(e=>{console.log(e.data),this.getData=e.data.docs,this.pageCount=e.data.totalPages}).catch(e=>{e.response?(console.log(e.response.data),console.log(e.response.status),console.log(e.response.headers)):e.request?console.log(e.request):console.log("Error",e.message)}),this.getData.length!==0&&(this.eventDataReceived=!0),this.Loading=!1},getDateFormat(e){var a=new Date(e),p=`${("0"+a.getDate()).slice(-2)}/${("0"+(a.getMonth()+1)).slice(-2)}/${a.getFullYear()}`;return p}},computed:{}},$={class:"cart-area pt-100 pb-100"},C={class:"container"},B={class:"row"},I={class:"col-12"},L={class:"table-content table-responsive"},O={key:0},T={key:1},V={class:"table"},q=t("thead",null,[t("tr",null,[t("th",{class:"product-thumbnail"},"#"),t("th",{class:"product-thumbnail"},"Event Name"),t("th",{class:"cart-product-name"},"Created By"),t("th",{class:"product-price"},"Sport"),t("th",{class:"product-quantity"},"Start Date"),t("th",{class:"product-subtotal"},"End Date"),t("th",{class:"product-subtotal"},"Approval Status"),t("th",{class:"product-remove"},"Details")])],-1),j={class:"product-name"},A={class:"product-name"},H={class:"product-subtotal"},R={class:"amount"},z={class:"product-price"},U={class:"amount"},J={class:"product-price"},M={class:"amount"},Y={class:"product-name"},G={class:"product-quantity"},K=m("Show Details"),Q={class:"mt-10"};function W(e,a,p,v,o,r){const u=d("HeaderFour"),f=d("PageTitle"),g=E,D=d("paginate"),b=d("FooterOne");return c(),i("div",null,[l(u),l(f,{pageTitle:"Events awaiting approval",pageSubTitle:"Pending Events"}),t("div",$,[t("div",C,[t("div",B,[t("div",I,[t("div",L,[o.Loading?(c(),i("div",O," Loading ")):(c(),i("div",T,[t("table",V,[q,t("tbody",null,[(c(!0),i(S,null,y(o.getData,s=>(c(),i("tr",{key:s.id},[t("td",null,n(s.index+1),1),t("td",j,[l(g,{to:`/event-details/${s.id}`},{default:_(()=>[m(n(s.Name),1)]),_:2},1032,["to"])]),t("td",A,[t("span",null,n(s.createdByFName),1)]),t("td",H,[t("span",R,n(s.Sport),1)]),t("td",z,[t("span",U,n(r.getDateFormat(s.startDate)),1)]),t("td",J,[t("span",M,n(r.getDateFormat(s.endDate)),1)]),t("td",Y,[t("span",null,n(s.approvalStatus),1)]),t("td",G,[l(g,{class:"edu-border-btn",to:`/event-details/${s.id}`},{default:_(()=>[K]),_:2},1032,["to"])])]))),128))])]),t("div",Q,[l(D,{modelValue:o.page,"onUpdate:modelValue":a[0]||(a[0]=s=>o.page=s),"page-count":o.pageCount,"page-range":3,"margin-pages":2,"click-handler":r.clickCallback,"prev-text":"Prev","next-text":"Next","container-class":"pagination justify-content-center","page-class":"page-item"},null,8,["modelValue","page-count","click-handler"])])]))])])])])]),l(b)])}var X=h(w,[["render",W]]);const Z={name:"pending",components:{PendingEvents:X},data(){return{loaded:!1}},mounted(){localStorage.getItem("loggedIn")?JSON.parse(localStorage.UserData).Status==="Admin"?this.loaded=!0:this.$router.replace("/dashboard"):this.$router.replace("/")}},tt={key:0},et={key:1,class:"d-flex min-vh-100 min-vw-100 justify-content-center"},st=t("div",{class:"d-flex justify-content-center align-items-center"},[t("div",{class:"spinner-grow text-warning",role:"status"},[t("span",{class:"sr-only"},"Loading...")])],-1),at=[st];function ot(e,a,p,v,o,r){const u=d("PendingEvents");return o.loaded?(c(),i("div",tt,[l(u)])):(c(),i("div",et,at))}var rt=h(Z,[["render",ot]]);export{rt as default};
