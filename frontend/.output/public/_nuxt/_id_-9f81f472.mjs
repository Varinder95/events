import{_ as D,r as f,o as a,c as i,a as d,b as e,w as u,d as r,t as o,n as w,i as b,p as x,l as E,e as F,f as I}from"./entry-5a75029a.mjs";import{F as A,a as h}from"./FooterOne-c0d6d65d.mjs";import{P}from"./PageTitle-fd4a499a.mjs";import{H as q}from"./HeaderFour-2a46882e.mjs";const N={name:"app",props:{eventId:{type:String,default:""}},data(){return{loggedIn:!1,eventData:"",loaded:!1,selfUpload:!1,isAdmin:!1,isApproved:!1,isFeatured:!1,status:""}},components:{FooterOne:A,PageTitle:P,HeaderFour:q},beforeMount(){this.getEventDetails(),localStorage.loggedIn&&(this.loggedIn=localStorage.loggedIn,JSON.parse(localStorage.UserData).Status==="Admin"&&(this.isAdmin=!0))},methods:{async getEventDetails(){await h.get("http://143.42.142.151:4000/events/getEventById",{params:{Id:this.eventId}}).then(t=>{console.log(t),this.eventData=t.data,JSON.parse(localStorage.UserData).id===this.eventData.createdById&&(this.selfUpload=!0),this.eventData.approvalStatus==="Approved"&&(this.isApproved=!0),this.eventData.Featured==="Yes"&&(this.isFeatured=!0);const l=new Date;var p=new Date(this.eventData.startDate),m=new Date(this.eventData.endDate);m<l?this.status="Expired":p<=l&&l<m?this.status="In Progress":this.status="Upcoming Soon"}).catch(t=>{t.response?(this.errorMessage=t.response.data.message,console.log(t.response.data),console.log(t.response.status),console.log(t.response.headers)):t.request?console.log(t.request):console.log("Error",t.message)}),this.loaded=!0},async approveEvent(){await h.post("http://143.42.142.151:4000/events/updateEvent",{params:{Id:this.eventId,query:{approvalStatus:"Approved"}}}).then(t=>{console.log(t),this.$router.go()}).catch(t=>{t.response?(this.errorMessage=t.response.data.message,console.log(t.response.data),console.log(t.response.status),console.log(t.response.headers)):t.request?console.log(t.request):console.log("Error",t.message)})},async disapproveEvent(){await h.post("http://143.42.142.151:4000/events/updateEvent",{params:{Id:this.eventId,query:{approvalStatus:"Disapproved"}}}).then(t=>{console.log(t),this.removeFeatured()}).catch(t=>{t.response?(this.errorMessage=t.response.data.message,console.log(t.response.data),console.log(t.response.status),console.log(t.response.headers)):t.request?console.log(t.request):console.log("Error",t.message)})},async removeFeatured(){await h.post("http://143.42.142.151:4000/events/updateEvent",{params:{Id:this.eventId,query:{Featured:"No"}}}).then(t=>{console.log(t),this.$router.go()}).catch(t=>{t.response?(this.errorMessage=t.response.data.message,console.log(t.response.data),console.log(t.response.status),console.log(t.response.headers)):t.request?console.log(t.request):console.log("Error",t.message)})},async setFeatured(){await h.post("http://143.42.142.151:4000/events/updateEvent",{params:{Id:this.eventId,query:{Featured:"Yes"}}}).then(t=>{console.log(t),this.$router.go()}).catch(t=>{t.response?(this.errorMessage=t.response.data.message,console.log(t.response.data),console.log(t.response.status),console.log(t.response.headers)):t.request?console.log(t.request):console.log("Error",t.message)})},getDateFormat(t){var l=new Date(t),p=`${("0"+l.getDate()).slice(-2)}/${("0"+(l.getMonth()+1)).slice(-2)}/${l.getFullYear()}`;return p}}},n=t=>(x("data-v-2822f374"),t=t(),E(),t),C={key:0},O={class:"event-detalis-area pt-120 pb-90"},z={class:"container"},M={class:"row"},B={class:"col-xl-8 col-lg-12"},T={class:"event-main-wrapper mb-30"},L={class:"row course-detelis-meta mb-30"},U={class:"course-meta-wrapper border-line-meta col"},Y={class:"course-meta-img"},j=n(()=>e("img",{src:"/img/course/course-meta.png",alt:"course-meta"},null,-1)),H={class:"course-meta-text"},R=n(()=>e("span",null,"Hosted by",-1)),V={class:"course-Enroll border-line-meta col"},J=n(()=>e("p",{class:"text-center"},"Sport",-1)),W={class:"text-center"},G={class:"course-update border-line-meta col"},K=n(()=>e("p",{class:"text-center"},"State",-1)),Q={class:"text-center"},X={class:"course-category col"},Z=n(()=>e("p",{class:"text-center"},"Category",-1)),$={class:"text-center"},ee={class:"event-contact-info"},te={class:"event-introduction"},se={class:"introduction-info mb-40"},oe=n(()=>e("h4",null,"Description",-1)),ne={class:"mb-40"},ae=n(()=>e("div",{class:"even-point-tittle"},[e("h4",null,"Prizes")],-1)),ie={class:"event-point-info"},le={class:"inr-font"},ce=r("First Prize : "),re={class:"text-black"},de={class:"inr-font"},pe=r("Second Prize : "),_e={class:"text-black"},ve={class:"inr-font"},ue=r("Third Prize : "),he={class:"text-black"},me={class:"inr-font"},ge=r("Consolation Prize : "),fe={class:"text-black"},be={class:"mb-40"},De=n(()=>e("div",{class:"even-point-tittle"},[e("h4",null,"Rules and Restrictions")],-1)),ye={class:"event-point-info"},Se=n(()=>e("div",{class:"google-map-area event-map pt-45"},[e("iframe",{src:"https://www.google.com/maps/embed?pb=!1m14!1m12!1m3!1d25621.6685132309!2d-73.76450733964063!3d40.741031946556575!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!5e0!3m2!1sen!2sbd!4v1646544624845!5m2!1sen!2sbd"})],-1)),ke={class:"col-xl-4 col-lg-8 col-md-8"},we={class:"sidebar-widget-wrapper"},xe={class:"event-speaker-wrapper mb-30 theme-blue"},Ee=n(()=>e("div",{class:"event-speaker-info"},[e("h4",{class:"text-white"},"Organisers")],-1)),Fe={class:"event-organiser-content mb-10 text-center"},Ie={href:"#"},Ae={href:"#"},Pe={class:"event-organiser-content text-center"},qe={href:"#"},Ne={href:"#"},Ce={class:"event-information-wrapper mb-30"},Oe={class:"event-price-info"},ze=n(()=>e("div",{class:"event-ticket-cost"},[e("span",null,"Entry Fees:")],-1)),Me={class:"event-price"},Be=n(()=>e("p",{class:"inr-font mr-10"},"INR",-1)),Te={class:"event-information-list"},Le=n(()=>e("div",{class:"information-list"},[e("i",{class:"flaticon-bookmark-white"}),e("span",null,"Sport")],-1)),Ue={class:"information-list"},Ye=n(()=>e("div",{class:"information-list"},[e("i",{class:"flaticon-calendar"}),e("span",null,"Start Date")],-1)),je={class:"information-list"},He=n(()=>e("div",{class:"information-list"},[e("i",{class:"flaticon-calendar"}),e("span",null,"End Date")],-1)),Re={class:"information-list"},Ve=n(()=>e("div",{class:"information-list"},[e("i",{class:"flaticon-clock"}),e("span",null,"Schedule")],-1)),Je={class:"information-list"},We=n(()=>e("div",{class:"information-list"},[e("i",{class:"flaticon-place"}),e("span",null,"Location")],-1)),Ge={class:"information-list"},Ke=n(()=>e("div",{class:"information-list"},[e("i",{class:"flaticon-menu-2"}),e("span",null,"Category")],-1)),Qe={class:"information-list"},Xe=n(()=>e("div",{class:"information-list"},[e("i",{class:"flaticon-global"}),e("span",null,"Landmark")],-1)),Ze={class:"information-list"},$e={key:0},et={class:"text-danger border-top border-secondary pt-10 mt-10"},tt=n(()=>e("span",{class:"text-black font-bold"},"Status : ",-1)),st={key:1},ot={key:0,class:"text-success text-center border-top border-bottom border-secondary pt-10 pb-10 mt-10"},nt=n(()=>e("span",{class:"text-black font-bold"},"Status : ",-1)),at={key:1,class:"text-warning border-top border-secondary pt-10 mt-10"},it=n(()=>e("span",{class:"text-black font-bold"},"Status : ",-1)),lt=r("Join this Event"),ct={key:0,class:"event-sponsor-wrapper mb-30"},rt={class:"sopnsor-tittle"},dt=n(()=>e("h4",null,"Approval Status ",-1)),pt={key:0,class:"text-success border-top border-secondary pt-10 mt-10"},_t={key:1,class:"text-danger border-top border-secondary pt-10 mt-10"},vt={key:2,class:"text-warning border-top border-secondary pt-10 mt-10"},ut={class:"sponsor-thumb"},ht={key:0,class:"alert alert-success",role:"alert"},mt={key:1,class:"alert alert-danger",role:"alert"},gt={key:2,class:"alert alert-warning",role:"alert"},ft=r("Edit Event"),bt={key:1,class:"event-sponsor-wrapper mb-30"},Dt={class:"sopnsor-tittle"},yt=n(()=>e("h4",null,"Approval Status ",-1)),St={key:0,class:"text-success border-top border-secondary pt-10 mt-10"},kt={key:1,class:"text-danger border-top border-secondary pt-10 mt-10"},wt={key:2,class:"text-warning border-top border-secondary pt-10 mt-10"},xt={class:"sponsor-thumb"},Et={key:0,class:"w-100"},Ft={key:1,class:"w-100"},It=r("Edit Event"),At={key:1,class:"d-flex min-vh-100 min-vw-100 justify-content-center"},Pt=n(()=>e("div",{class:"d-flex justify-content-center align-items-center"},[e("div",{class:"spinner-grow text-warning",role:"status"},[e("span",{class:"sr-only"},"Loading...")])],-1)),qt=[Pt];function Nt(t,l,p,m,s,c){const g=f("HeaderFour"),S=f("PageTitle"),v=F,k=f("FooterOne");return s.loaded?(a(),i("div",C,[d(g),d(S,{pageTitle:"Event Details",pageSubTitle:"Event Details"}),e("div",O,[e("div",z,[e("div",M,[e("div",B,[e("div",T,[e("div",L,[e("div",U,[e("div",Y,[d(v,{href:"javascript:void(0)"},{default:u(()=>[j]),_:1})]),e("div",H,[R,e("h6",null,[d(v,{href:"javascript:void(0)"},{default:u(()=>[r(o(s.eventData.createdByFName)+" "+o(s.eventData.createdByLName),1)]),_:1})])])]),e("div",V,[J,e("span",W,o(s.eventData.Sport),1)]),e("div",G,[K,e("span",Q,o(s.eventData.Location),1)]),e("div",X,[Z,e("span",$,o(s.eventData.Category),1)])]),e("div",ee,[e("h2",null,o(s.eventData.Name),1)]),e("div",te,[e("div",se,[oe,e("p",null,o(s.eventData.Description),1)])]),e("div",ne,[ae,e("div",ie,[e("ul",null,[e("li",null,[e("span",le,[ce,e("span",re,o(s.eventData.Prize1),1)])]),e("li",null,[e("span",de,[pe,e("span",_e,o(s.eventData.Prize2),1)])]),e("li",null,[e("span",ve,[ue,e("span",he,o(s.eventData.Prize3),1)])]),e("li",null,[e("span",me,[ge,e("span",fe,o(s.eventData.consolationPrize),1)])])])])]),e("div",be,[De,e("div",ye,[e("p",null,o(s.eventData.Rules),1)])]),Se])]),e("div",ke,[e("div",we,[e("div",xe,[Ee,e("div",Fe,[e("span",null,[e("a",Ie,o(s.eventData.Organiser1Name),1)]),e("p",null,[e("a",Ae,o(s.eventData.Organiser1Phone),1)])]),e("div",Pe,[e("span",null,[e("a",qe,o(s.eventData.Organiser2Name),1)]),e("p",null,[e("a",Ne,o(s.eventData.Organiser2Phone),1)])])]),e("div",Ce,[e("div",Oe,[ze,e("div",Me,[Be,e("span",null,o(s.eventData.entryFee),1)])]),e("div",Te,[e("ul",null,[e("li",null,[Le,e("div",Ue,[e("span",null,o(s.eventData.Sport),1)])]),e("li",null,[Ye,e("div",je,[e("span",null,o(c.getDateFormat(s.eventData.startDate)),1)])]),e("li",null,[He,e("div",Re,[e("span",null,o(c.getDateFormat(s.eventData.endDate)),1)])]),e("li",null,[Ve,e("div",Je,[e("span",null,o(s.eventData.Time),1)])]),e("li",null,[We,e("div",Ge,[e("span",null,o(s.eventData.Address),1)])]),e("li",null,[Ke,e("div",Qe,[e("span",null,o(s.eventData.Category),1)])]),e("li",null,[Xe,e("div",Ze,[e("span",null,o(s.eventData.Landmark),1)])])])]),s.status==="Expired"?(a(),i("div",$e,[e("h4",et,[tt,r(o(s.status),1)])])):(a(),i("div",st,[s.status==="Upcoming Soon"?(a(),i("h4",ot,[nt,r(o(s.status),1)])):(a(),i("h4",at,[it,r(o(s.status),1)])),d(v,{to:"/contact",class:w(`${s.isApproved?"event-btn border-top border-secondary mt-30":"d-none"}`)},{default:u(()=>[lt]),_:1},8,["class"])]))]),s.selfUpload?(a(),i("div",ct,[e("div",rt,[dt,s.eventData.approvalStatus==="Approved"?(a(),i("h4",pt,o(s.eventData.approvalStatus),1)):s.eventData.approvalStatus==="Disapproved"?(a(),i("h4",_t,o(s.eventData.approvalStatus),1)):(a(),i("h4",vt,o(s.eventData.approvalStatus),1))]),e("div",ut,[s.eventData.approvalStatus==="Approved"?(a(),i("div",ht," Your event submission is approved and active. ")):s.eventData.approvalStatus==="Disapproved"?(a(),i("div",mt," Your event submission is Disapproved and inactive. Please contact us for more info. ")):(a(),i("div",gt," Your event submission is currently under review. We will notify you of any change in status through email. ")),d(v,{to:`/edit-event/${p.eventId}`,class:"btn btn-primary w-100"},{default:u(()=>[ft]),_:1},8,["to"])])])):b("",!0),s.isAdmin?(a(),i("div",bt,[e("div",Dt,[yt,s.eventData.approvalStatus==="Approved"?(a(),i("h4",St,o(s.eventData.approvalStatus),1)):s.eventData.approvalStatus==="Disapproved"?(a(),i("h4",kt,o(s.eventData.approvalStatus),1)):(a(),i("h4",wt,o(s.eventData.approvalStatus),1))]),e("div",xt,[s.isApproved?(a(),i("div",Ft,[s.isFeatured?(a(),i("button",{key:0,type:"button",class:"btn btn-danger w-100",onClick:l[1]||(l[1]=(..._)=>c.removeFeatured&&c.removeFeatured(..._))},"Remove from featured")):(a(),i("button",{key:1,type:"button",class:"btn btn-primary w-100",onClick:l[2]||(l[2]=(..._)=>c.setFeatured&&c.setFeatured(..._))},"Set as featured"))])):(a(),i("div",Et,[e("button",{type:"button",class:"btn btn-success w-100",onClick:l[0]||(l[0]=(..._)=>c.approveEvent&&c.approveEvent(..._))},"Approve")])),e("button",{type:"button",class:"btn btn-danger w-100",onClick:l[3]||(l[3]=(..._)=>c.disapproveEvent&&c.disapproveEvent(..._))},"Disapprove"),d(v,{to:`/edit-event/${p.eventId}`,class:"btn btn-primary w-100"},{default:u(()=>[It]),_:1},8,["to"])])])):b("",!0)])])])])]),d(k)])):(a(),i("div",At,qt))}var y=D(N,[["render",Nt],["__scopeId","data-v-2822f374"]]);const Ct={name:"app",components:{EventDetailsMain:y},data(){return{id:this.$route.params.id}}};function Ot(t,l,p,m,s,c){const g=y;return a(),I(g,{eventId:s.id},null,8,["eventId"])}var Lt=D(Ct,[["render",Ot]]);export{Lt as default};
